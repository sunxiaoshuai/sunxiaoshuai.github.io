<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>选字游戏</title>
	<style>
		*{margin: 0;padding: 0;}
		#wrap{margin: 100px auto 0;padding: 10px 10px 0;width: 400px;height: 600px;border: 10px solid purple;border-radius: 30px;}
		#time{font-size: 20px;}
		#count{float: right;font-size: 20px;}
		#content{margin: 80px auto;width: 200px;height: 200px;border: 5px solid;border-radius: 20px;text-align: center;line-height: 200px;font-size: 150px;}
		#wrap p{height: 40px;border: 3px solid cyan;border-radius: 10px;text-align: center;line-height: 40px;}
		#list li{display: inline-block;border: 3px solid;margin: 10px 0 0 35px;list-style: none;font-size: 30px;cursor: pointer;}
		.start,.close{float: left;margin-top: 30px;margin-left: 50px;width: 100px;height: 30px;border: 10px solid;background-color: ;text-align: center;line-height: 30px;font-size: 20px;color: red;cursor: pointer;}	
		.close{color: black;}
	</style>
</head>
<body>
	<div id="wrap">
		<span id="time">剩余时间:30</span>
		<span id="count">完成:0</span>
		<div id="content">啪</div>
		<p>tips: 根据上面的颜色,选择下面正确的文字</p>
		<ul id="list">
			<li>啪</li>
			<li>啪</li>
			<li>啪</li>
			<li>啪</li>
			<li>啪</li>
		</ul>
		<div class="start">约 😳</div>
		<div class="close">不约 😒</div>
	</div>
</body>
</html>
<script>
	// 获取元素∂
	var time=document.getElementById('time');
	var count=document.getElementById('count');
	var content=document.getElementById('content');
	var lis=document.getElementsByTagName('li');
	var startBtn=document.getElementsByClassName('start')[0];
	var closeBtn=document.getElementsByClassName('close')[0];

	// 定义数组
	var textArr=['黑','黄','红','蓝','绿'];
	var colorArr=['black','yellow','red','blue','green'];

	// 定义一个全局变量用来存放正确的颜色
	var trueText='';

	// 定义一个开关
	var b=true;

	// 定义全局定时器
	var timer=null;
	// 定义成绩
	var c=0;
	// 开始按钮
	startBtn.onclick=function()
	{
		clearInterval(timer);
	
		count.innerHTML='完成:0';
		time.innerHTML='剩余时间:30';
		// 大字的改变
		function bigText()
		{
			// 将随机到的文字赋值给 content.innerTHML
			var text=textArr[Math.floor(Math.random()*textArr.length)];
			content.innerHTML=text;	

			// 获取一个随机数 取值范围是 0~4
			var random=Math.floor(Math.random()*colorArr.length);
			// 把
			var color=colorArr[random];
			content.style.color=color;

			trueText=textArr[random];
		}	
		bigText();

		// 小字的改变
		function smallText()
		{
			// 将文字数组拷贝一份
			var newText=textArr.slice(0);
			// 对文字数组进行重新排序
			newText.sort(function()
			{
				return Math.random()-0.5;
			});
			console.log(newText);
			// 将颜色数组拷贝一份
			var newColor=colorArr.slice(0);
			// 对颜色数组进行重新排序
			newColor.sort(function()
			{
				return Math.random()-0.5;
			});
			console.log(newColor);

			// 循环为小字进行赋值
			for(var i=0;i<newText.length;i++)
			{
				var nText=newText[i];
				var nColor=newColor[i];

				// 将nText的文字赋值给下标为 i 的li元素
				lis[i].innerHTML=nText;
				// 将nColor的颜色赋值给下标为 i 的li元素
				lis[i].style.color=nColor;
			}
		}
		smallText();

		// 小字的点击事件
		for(var i=0;i<lis.length;i++)
		{
			lis[i].onclick=function()
			{
				bol=false;
				if(b)
				{
					if(this.innerHTML==trueText)
					{
						c++;
						count.innerHTML='完成:'+c;
						bigText();
						smallText();
						bol=true;
					}
					else
					{
						clearInterval(timer);
						alert('笨蛋');
						count.innerHTML='完成:'+0;
						c=0;
						date();
					}
				}	
			}
		}
		
		// 时间定时器
		function date()
		{
			var t=30;
			var bol=true;
			timer=setInterval(function()
			{
				time.innerHTML='剩余时间:'+t;
				if(bol)
				{	
					t--;
					if(0==t)
					{
						clearInterval(timer);
						b=false;
					}
				
				}
			},1000)
		}
		date();
	}
	// 关闭按钮
	closeBtn.onclick=function(){window.close();}
	/*
		需要解决的问题:
			1.处理倒计时
			2.处理分数
			3.处理大字的文字随机和颜色随机
			4.处理小字的点击事件
			5.处理小字的文字随机和颜色随机
			6.时间为0,点击失效

		需要用到的方法:
		    1.定时器
		    2.onclick
		    3.Math.random()
		    4.循环
		    5.数组
		    6.函数
		    7.if分支(判断)
		    8.innerHTML
	*/ 
</script>