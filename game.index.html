<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>é€‰å­—æ¸¸æˆ</title>
	<style>
		*{margin: 0;padding: 0;}
		#wrap{margin: 100px auto 0;padding: 10px 10px 0;width: 400px;height: 600px;border: 10px solid purple;border-radius: 30px;}
		#time{font-size: 20px;}
		#count{float: right;font-size: 20px;}
		#content{margin: 80px auto;width: 200px;height: 200px;border: 5px solid;border-radius: 20px;text-align: center;line-height: 200px;font-size: 150px;}
		#wrap p{height: 40px;border: 3px solid cyan;border-radius: 10px;text-align: center;line-height: 40px;}
		#list li{display: inline-block;border: 3px solid;margin: 10px 0 0 35px;list-style: none;font-size: 30px;cursor: pointer;}
		.start,.close{float: left;margin-top: 30px;margin-left: 50px;width: 100px;height: 30px;border: 10px solid;background-color: ;text-align: center;line-height: 30px;font-size: 20px;color: red;cursor: pointer;}	
		.close{color: black;}
	</style>
</head>
<body>
	<div id="wrap">
		<span id="time">å‰©ä½™æ—¶é—´:30</span>
		<span id="count">å®Œæˆ:0</span>
		<div id="content">å•ª</div>
		<p>tips: æ ¹æ®ä¸Šé¢çš„é¢œè‰²,é€‰æ‹©ä¸‹é¢æ­£ç¡®çš„æ–‡å­—</p>
		<ul id="list">
			<li>å•ª</li>
			<li>å•ª</li>
			<li>å•ª</li>
			<li>å•ª</li>
			<li>å•ª</li>
		</ul>
		<div class="start">çº¦ ğŸ˜³</div>
		<div class="close">ä¸çº¦ ğŸ˜’</div>
	</div>
</body>
</html>
<script>
	// è·å–å…ƒç´ 
	var time=document.getElementById('time');
	var count=document.getElementById('count');
	var content=document.getElementById('content');
	var lis=document.getElementsByTagName('li');
	var startBtn=document.getElementsByClassName('start')[0];
	var closeBtn=document.getElementsByClassName('close')[0];

	// å®šä¹‰æ•°ç»„
	var textArr=['é»‘','é»„','çº¢','è“','ç»¿'];
	var colorArr=['black','yellow','red','blue','green'];

	var trueText='';  // å®šä¹‰ä¸€ä¸ªå…¨å±€å˜é‡ç”¨æ¥å­˜æ”¾æ­£ç¡®çš„æ–‡å­—
	var timer=null;  // å®šä¹‰å…¨å±€å®šæ—¶å™¨

	// å¼€å§‹æŒ‰é’®
	startBtn.onclick=function()
	{	
		var bol=true;  // å®šä¹‰å¼€å…³
		var score=0;  // å®šä¹‰æˆç»©
		var remainTime=30;  // å®šä¹‰æ—¶é—´

		clearInterval(timer); 	// æ¯æ¬¡ç‚¹å‡»å¼€å§‹æŒ‰é’®å°± æ¸…é™¤å®šæ—¶å™¨
		count.innerHTML='å®Œæˆ:0';	// æ¢å¤é»˜è®¤ 
		time.innerHTML='å‰©ä½™æ—¶é—´:30';	  // æ¢å¤é»˜è®¤

		// å¤§å­—çš„æ”¹å˜
		function bigText()
		{
			// å°†éšæœºåˆ°çš„æ–‡å­—èµ‹å€¼ç»™ content.innerTHML
			var text=textArr[Math.floor(Math.random()*textArr.length)];
			content.innerHTML=text;	

			// è·å–ä¸€ä¸ªéšæœºæ•° å–å€¼èŒƒå›´æ˜¯ 0~4
			var random=Math.floor(Math.random()*colorArr.length);
			// æŠŠéšæœºåˆ°çš„é¢œè‰²èµ‹å€¼ç»™ content.style.color
			var color=colorArr[random];
			content.style.color=color;

			// æ–‡å­—æ•°ç»„å’Œé¢œè‰²æ•°ç»„çš„ä¸‹æ ‡ä¸€ä¸€å¯¹åº”  æŠŠé¢œè‰²å¯¹åº”çš„æ–‡å­—å­˜åœ¨å˜é‡ trueText ä¸­, ç”¨æ¥åšåˆ¤æ–­
			trueText=textArr[random];
		}	
		bigText();

		// å°å­—çš„æ”¹å˜
		function smallText()
		{
			// å°†æ–‡å­—æ•°ç»„æ‹·è´ä¸€ä»½
			var newText=textArr.slice(0);
			// å¯¹æ–‡å­—æ•°ç»„è¿›è¡Œé‡æ–°æ’åº
			newText.sort(function()
			{
				return Math.random()-0.5;
			});

			// å°†é¢œè‰²æ•°ç»„æ‹·è´ä¸€ä»½
			var newColor=colorArr.slice(0);
			// å¯¹é¢œè‰²æ•°ç»„è¿›è¡Œé‡æ–°æ’åº
			newColor.sort(function()
			{
				return Math.random()-0.5;
			});

			// ä¸ºå°å­—è¿›è¡Œèµ‹å€¼
			for(var i=0;i<newText.length;i++)
			{
				lis[i].innerHTML=newText[i];
				lis[i].style.color=newColor[i];
			}
		}
		smallText();

		// å°å­—çš„ç‚¹å‡»äº‹ä»¶
		for(var i=0;i<lis.length;i++)
		{
			lis[i].onclick=function()
			{
				if(bol)
				{
					// åˆ¤æ–­ç‚¹å‡»çš„æ–‡å­— æ˜¯å¦ç­‰äº æ­£ç¡®çš„æ–‡å­— ,å¦‚æœç­‰äº åˆ†æ•°å¢åŠ  ,æ¥ç€è°ƒç”¨å¤§å­—å‡½æ•°å’Œå°å­—å‡½æ•°
					if(this.innerHTML==trueText)
					{
						score++;
						count.innerHTML='å®Œæˆ:'+score;
						bigText();
						smallText();
					}
					else // å¦‚æœä¸ç­‰äº é‡æ–°å¼€å§‹
					{
						clearInterval(timer);
						alert('ç¬¨è›‹');
						count.innerHTML='å®Œæˆ:0';
						time.innerHTML='å‰©ä½™æ—¶é—´:30';
						score=0;
						remainTime=30;
						date();
					}
				}	
			}
		}
		// å¤„ç†æ—¶é—´å‡½æ•°
		function date()
		{
			timer=setInterval(function()
			{
				remainTime--;	// æ—¶é—´å‡å°‘
				time.innerHTML='å‰©ä½™æ—¶é—´:'+remainTime;
				// åˆ¤æ–­ æ—¶é—´ç­‰äº0, ç‚¹å‡»äº‹ä»¶æ²¡æœ‰æ•ˆæœ, æ¸…é™¤å®šæ—¶å™¨
				if(0==remainTime)
				{
					bol=false;
					clearInterval(timer);
				}
			},1000)
		}
		date();
	}
	// å…³é—­æŒ‰é’®
	closeBtn.onclick=function(){window.close();}
</script>